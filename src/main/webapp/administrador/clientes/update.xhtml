<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:h5="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="../templates/AD.xhtml"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="URL_salir">
        <a class="dropdown-item" href="../../index.xhtml">Salir</a>
    </ui:define>

    <ui:define name="URL_inicio">
        <a class="navbar-brand ps-3" href="../index.xhtml">Menu</a>
    </ui:define>

    <ui:define name="lista_menu">
        <a class="nav-link" href="../clientes/clientes.xhtml">
            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
            Clientes
        </a>
        <a class="nav-link" href="../planes/planes.xhtml">
            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
            Planes y servicios
        </a>
        <a class="nav-link" href="../entidades/entidades.xhtml">
            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
            Entidades
        </a>
        <a class="nav-link" href="../index.xhtml">
            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
            Mensajes
        </a>
        <a class="nav-link" href="../correos.xhtml"><div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
            E-mails
        </a> 
    </ui:define>


    <ui:define name="URL_css">
        <link href="../../assents/css/styles.css" rel="stylesheet" type="text/css"/>
    </ui:define>

    <ui:define name="URL_js">
        <script src="../../assents/js/scripts.js" type="text/javascript"></script>
    </ui:define>



    <ui:define name="contenido">

        <div class="row">
            <div class="col-11">
                <h1 class="mt-4">Actualizar Datos</h1>
            </div>
        </div>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item active">Cliente: #{cSession.persona.cliNombre} #{cSession.persona.cliApellido}</li>
        </ol>

        <h:form class="row g-2"  enctype="multipart/form-data">
            <p:growl id="growl"/>
            <div class="col-md-12">
                <h:commandButton actionListener="#{cSession.close()}" style="margin-left: 95%; width: 25px" image="../../assents/Img/icons/reply-solid.svg"></h:commandButton>
            </div>

            <div class="col-md-12">
                <h:selectOneMenu value="#{cSession.rol}" class="form-select"  >
                    <f:selectItem itemLabel="Administrador" itemValue="1"></f:selectItem>
                    <f:selectItem itemLabel="Cliente" itemValue="2"></f:selectItem>
                </h:selectOneMenu>
            </div>

            <div class="col-md-6">                                
                <h:inputText 
                    id="Nombres-FR" 
                    value="#{cSession.persona.cliNombre}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Nombres-FR" class="form-label">Nombres</label>
                <h:message for="Nombres-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-6">
                <h:inputText 
                    id="Apellidos-FR" 
                    value="#{cSession.persona.cliApellido}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Apellidos-FR">Apellidos</label>
                <h:message for="Nombres-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-3">
                <h:selectOneMenu value="#{cSession.tipoDocumento}" class="form-select"  >
                    <f:selectItem itemLabel="T.I" itemValue="1"></f:selectItem>
                    <f:selectItem itemLabel="C.C" itemValue="2"></f:selectItem>
                </h:selectOneMenu>

            </div>
            <div class="col-md-9">
                <h:inputText 
                    id="Documento-FR" 
                    value="#{cSession.persona.cliNumeroDocumento}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Documento-FR">Numero de documento</label>
                <h:message for="Nombres-FR" style="color: red"></h:message>
            </div>

            <div class="col-md-3">
                <h:selectOneMenu value="#{cSession.genero}" class="form-select"  >      
                    <f:selectItem itemLabel="Selecione genero" itemValue="N" ></f:selectItem>
                    <f:selectItem itemLabel="H" itemValue="H"></f:selectItem>
                    <f:selectItem itemLabel="M" itemValue="M"></f:selectItem>
                    <f:selectItem itemLabel="Otro" itemValue="O"></f:selectItem>
                </h:selectOneMenu>

            </div>
            <div class="col-md-9">
                <h:inputText 
                    id="eps-fr" 
                    value="#{cSession.persona.cliEPS}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="eps-fr">EPS</label>
                <h:message for="eps-fr" style="color: red"></h:message>
            </div>
            <div class="col-md-10">
                <h:inputText 
                    id="FN-FR" 
                    value="#{cSession.fechaS}"
                    h5:type="date"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="FN-FR">Fecha de nacimiento(aaaa/mm/dd)</label>
                <h:message for="FN-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-2">
                <h:inputText 
                    id="NH-FR" 
                    value="#{cSession.persona.cliNumeroHijos}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="NH-FR"># Hijos</label>
                <h:message for="NH-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-4">
                <h:selectOneMenu value="#{cSession.es}" class="form-select"  >   
                    <f:selectItem itemLabel="Selecione Estado" itemValue="6"></f:selectItem>
                    <f:selectItem itemLabel="Soltero" itemValue="1"></f:selectItem>
                    <f:selectItem itemLabel="casado" itemValue="2"></f:selectItem>
                    <f:selectItem itemLabel="Viudo" itemValue="3"></f:selectItem>
                </h:selectOneMenu>

            </div>
            <div class="col-md-8">
                <h:inputText 
                    id="Pais-FR" 
                    value="#{cSession.persona.cliPais}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Pais-FR">Pais</label>
                <h:message for="pais-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-6">
                <!--
                <h:inputText 
                    id="Dep-FR" 
                    value="#{cSession.persona.cliDepartamento}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                -->
                <label for="Dep-FR">Depatamento</label>
                <h:message for="Dep-FR" style="color: red"></h:message>
            </div>
            <div class="col-md-6">
                <!--
                <h:inputText 
                    id="Ciu-FR" 
                    value="#{cSession.persona.cliCiudad}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                -->
                <label for="Ciu-FR">Ciudad</label>
                <h:message for="Ciu-FR" style="color: red"></h:message>
            </div>


            <div class="col-md-12">
                <h:inputText 
                    id="Correo-FR" 
                    value="#{cSession.usuario.usCorreo}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Correo-FR">Correo</label>
                <h:message for="Correo-FR" style="color: red"></h:message>
            </div>

            <div class="col-md-7">
                <h:inputText 
                    id="Telefono-FR" 
                    value="#{cSession.persona.cliTelefono}"
                    requiredMessage="Ingrese un valor valido"
                    class="form-control"/>
                <label for="Telefono-FR">Telefono</label>
                <h:message for="Telefono-FR" style="color: red"></h:message>
            </div>

            <div class="col-md-12">
                <h:commandButton action="#{cSession.actualizarDatos()}" class="btn btn-primary" value="Guardar"/>
            </div>
            
            <hr/>
            
            <table id="example" class="display nowrap" >
            <thead>
                <tr>

                    <th>Servicio</th>
                    <th>Entidad</th>
                    <th>Estado</th>
                    <th>Categoria</th>
                </tr>       
            </thead>
            <tbody>
                <c:forEach items="#{cSession.listarServiciosAdquiridosAdmin()}" var="cd">
                    <tr>

                        <td>#{cd.IDServicio.planNombre}</td>
                        <td>#{cd.IDServicio.planEntidad.entNombre}</td>                            
                        <td>#{cd.IDEstado.nameest}</td>                              
                        <td>#{cd.IDServicio.planCategoria}</td>

                    </tr> 
                </c:forEach>

            </tbody> 

        </table>


        </h:form>

    </ui:define>

</ui:composition>